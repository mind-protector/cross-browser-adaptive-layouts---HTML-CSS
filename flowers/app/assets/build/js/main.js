"use strict";var goods=0,articles=0,cards=[],reviewsRegularShapes=["Положительная оценка","Положительные оценки","Положительных оценок"],goodsRegularShapes=["товар","товара","товаров"];function CBR_XML_Daily_Ru(t){var e=t.Valute.USD.Value,r=t.Valute.EUR.Value;$(".USD").attr("value",e),$(".EUR").attr("value",r)}function regularShape(t,e,r,o){o=void 0!==o?o:"#"+r;var n=e[4<t%100&&t%100<20?2:[2,0,1,1,1,2][t%10<5?t%10:5]];$(o).text(t+" "+n)}function changeCurrency(t,e){function r(e){cards.forEach(function(t){$(t+".price").text(e($(t+".price").attr("value")))})}var o="#"+t+" .icon-checked",n=$(e).attr("value");switch($(".currencies-item .icon-checked").css("opacity","0"),$(o).css("opacity","1"),e){case".RUB":$(".currency").text("₽"),$(".currency-note").text("Руб"),r(function(t){return t});break;case".USD":$(".currency").text("$"),$(".currency-note").text("USD"),r(function(t){return(t/n).toFixed(2)});break;case".EUR":$(".currency").text("€"),$(".currency-note").text("EUR"),r(function(t){return(t/n).toFixed(2)})}}function bcolorChecked(t){var e='[name="'+t+'"] .icon-checked';$(e).attr("style")?$(e).attr({style:"",value:"false"}):$(e).attr({style:"opacity: 1;",value:"true"})}function sliderServices(){!function(){var t=document.querySelector(".slider"),r=t.querySelector(".slider-wrapper"),e=t.querySelectorAll(".slider-item"),o=t.querySelectorAll(".slider-control"),n=(t.querySelector(".slider-control-left"),t.querySelector(".slider-control-right"),parseFloat(getComputedStyle(r).width)),c=parseFloat(getComputedStyle(e[0]).width),a=0,i=0,s=c/n*100,u=[],l=0;function f(t){var e;"right"===t&&(++a+n/c-1>m.getMax()&&(e=m.getItemMin(),u[e].position=m.getMax()+1,u[e].transform+=100*u.length,u[e].item.style.transform="translateX("+u[e].transform+"%)"),i-=s),"left"===t&&(--a<m.getMin()&&(e=m.getItemMax(),u[e].position=m.getMin()-1,u[e].transform-=100*u.length,u[e].item.style.transform="translateX("+u[e].transform+"%)"),i+=s),r.style.transform="translateX("+i+"%)"}function d(t){if(t.target.classList.contains("slider-control")){t.preventDefault();var e=t.target.classList.contains("slider-control-right")?"right":"left";f(e)}}e.forEach(function(t,e){u.push({item:t,position:e,transform:0})});var m={getItemMin:function(){var r=0;return u.forEach(function(t,e){t.position<u[r].position&&(r=e)}),r},getItemMax:function(){var r=0;return u.forEach(function(t,e){t.position>u[r].position&&(r=e)}),r},getMin:function(){return u[m.getItemMin()].position},getMax:function(){return u[m.getItemMax()].position}};o.forEach(function(t){t.addEventListener("click",d)}),t.addEventListener("touchstart",function(t){l=t.changedTouches[0].clientX}),t.addEventListener("touchend",function(t){var e=t.changedTouches[0].clientX-l;50<e?f("left"):e<-50&&f("right")})}()}$(sliderServices);var timeouts=[];function clearTimeouts(t){for(var e=0;e<=t.length;e++)clearTimeout(t[e]);return[]}function favoriteAdd(t){var e="#"+t,r=".alert";function o(t,e){return goods+=t,$(r+" .alert-title").text(e),regularShape(goods,goodsRegularShapes,"goods-value"),(timeouts=clearTimeouts(timeouts)).push(setTimeout(function(){$(r).css("opacity","1")},200)),timeouts.push(setTimeout(function(){$(r).css("display","block")},200)),timeouts.push(setTimeout(function(){$(r).css("opacity","0")},4e3)),timeouts.push(setTimeout(function(){$(r).css("display","none")},4151)),timeouts}timeouts=$(e).attr("style")?($(e).attr("style",""),o(-1,"Удалено из избранного")):($(e).attr("style","color:#f02626;"),o(1,"Сохранено в избранное"))}function alertClose(){$(".alert").css("opacity","0"),(timeouts=clearTimeouts(timeouts)).push(setTimeout(function(){$(".alert").css("display","none")},151))}function infoInit(t,e,r,o,n){var c="#"+r+" ";cards.push(c);var a=e<4?["Новинка!","text-info"]:t<3.6?["Хорошо","text-warning"]:t<4.6?["Превосходно","text-success"]:["Восхитительно","text-success"];t=e<4?"NEW":t;var i="card-text d-block ";switch(o){case!0:$(c+".card-text").text("Уже собран"),$(c+".card-text").attr("class",i+"text-success");break;case!1:$(c+".card-text").text("Еще не собран"),$(c+".card-text").attr("class",i+"main-color");break;default:$(c+".card-text").text("Будет готов в "+o),$(c+".card-text").attr("class",i+"text-info")}$(c+".score-block").text(t),$(c+".review-block b").text(a[0]),$(c+".review-block b").attr("class",a[1]),n||$(c+".hit-mark").attr("style","display:none;")}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiZ29vZHMiLCJhcnRpY2xlcyIsImNhcmRzIiwicmV2aWV3c1JlZ3VsYXJTaGFwZXMiLCJnb29kc1JlZ3VsYXJTaGFwZXMiLCJDQlJfWE1MX0RhaWx5X1J1IiwicmF0ZXMiLCJVU0QiLCJWYWx1dGUiLCJWYWx1ZSIsIkVVUiIsIiQiLCJhdHRyIiwicmVndWxhclNoYXBlIiwibnVtYmVyIiwidGl0bGVzIiwiaWQiLCJzZWwiLCJ1bmRlZmluZWQiLCJ0ZXh0IiwiY2hhbmdlQ3VycmVuY3kiLCJjdXJyZW5jeSIsImNoYW5nZVByaWNlcyIsImZ1bmMiLCJmb3JFYWNoIiwiZWxlbWVudCIsImRldmlzaW9uIiwiY3NzIiwidmFsIiwidG9GaXhlZCIsImJjb2xvckNoZWNrZWQiLCJuYW1lIiwic3R5bGUiLCJ2YWx1ZSIsInNsaWRlclNlcnZpY2VzIiwiX21haW5FbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX3NsaWRlcldyYXBwZXIiLCJfc2xpZGVySXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3NsaWRlckNvbnRyb2xzIiwiX3dyYXBwZXJXaWR0aCIsInBhcnNlRmxvYXQiLCJnZXRDb21wdXRlZFN0eWxlIiwid2lkdGgiLCJfaXRlbVdpZHRoIiwiX3Bvc2l0aW9uTGVmdEl0ZW0iLCJfdHJhbnNmb3JtIiwiX3N0ZXAiLCJfaXRlbXMiLCJfc3RhcnRYIiwiX3RyYW5zZm9ybUl0ZW0iLCJkaXJlY3Rpb24iLCJuZXh0SXRlbSIsInBvc2l0aW9uIiwiZ2V0TWF4IiwiZ2V0SXRlbU1pbiIsInRyYW5zZm9ybSIsImxlbmd0aCIsIml0ZW0iLCJnZXRNaW4iLCJnZXRJdGVtTWF4IiwiX2NvbnRyb2xDbGljayIsImUiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInByZXZlbnREZWZhdWx0IiwiaW5kZXgiLCJwdXNoIiwiaW5kZXhJdGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNoYW5nZWRUb3VjaGVzIiwiY2xpZW50WCIsIl9kZWx0YVgiLCJtdWx0aUl0ZW1TbGlkZXIiLCJ0aW1lb3V0cyIsImNsZWFyVGltZW91dHMiLCJpIiwiY2xlYXJUaW1lb3V0IiwiZmF2b3JpdGVBZGQiLCJhbGVydCIsImFsZXJ0QWN0aW9ucyIsImsiLCJzZXRUaW1lb3V0IiwiYWxlcnRDbG9zZSIsImluZm9Jbml0Iiwic2NvcmUiLCJhbGxSZXZpZXdzIiwiZGF0ZSIsImhpdCIsInJhdGluZyIsImRlZkNsYXNzZXMiXSwibWFwcGluZ3MiOiJBQUFBLGFBTUEsSUFBSUEsTUFBUSxFQUNSQyxTQUFXLEVBQ1hDLE1BQVEsR0FFWkMscUJBQXVCLENBQUMsdUJBQ0EsdUJBQ0Esd0JBRXhCQyxtQkFBcUIsQ0FBQyxRQUFTLFNBQVUsV0FFekMsU0FBU0MsaUJBQWlCQyxHQUN0QixJQUFJQyxFQUFNRCxFQUFNRSxPQUFPRCxJQUFJRSxNQUN2QkMsRUFBTUosRUFBTUUsT0FBT0UsSUFBSUQsTUFFM0JFLEVBQUUsUUFBUUMsS0FBSyxRQUFTTCxHQUN4QkksRUFBRSxRQUFRQyxLQUFLLFFBQVNGLEdBRTVCLFNBQVNHLGFBQWFDLEVBQVFDLEVBQVFDLEVBQUlDLEdBQ3RDQSxPQUFlQyxJQUFSRCxFQUFxQkEsRUFBTSxJQUFNRCxFQUV4QyxJQUNJSCxFQUFlRSxFQUFvQixFQUFYRCxFQUFPLEtBQVNBLEVBQU8sSUFBSSxHQUFNLEVBRGpELENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQzRDQSxFQUFPLEdBQUcsRUFBR0EsRUFBTyxHQUFHLElBQy9GSCxFQUFFTSxHQUFLRSxLQUFLTCxFQUFTLElBQU1ELEdBRS9CLFNBQVNPLGVBQWVKLEVBQUlLLEdBRXhCLFNBQVNDLEVBQWFDLEdBQ2xCckIsTUFBTXNCLFFBQVEsU0FBU0MsR0FDbkJkLEVBQUVjLEVBQVUsVUFBVU4sS0FBS0ksRUFBS1osRUFBRWMsRUFBVSxVQUFVYixLQUFLLGFBSW5FLElBQUlLLEVBQU0sSUFBTUQsRUFBSyxpQkFDakJVLEVBQVdmLEVBQUVVLEdBQVVULEtBQUssU0FL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QUFFTSxFQUFNLGFBQWFMLEtBQUssUUFBUyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vKlxuICogQ29tbW9uIHNjcmlwdHNcbiAqL1xuXG52YXIgZ29vZHMgPSAwLFxuICAgIGFydGljbGVzID0gMCxcbiAgICBjYXJkcyA9IFtdLFxuXG5yZXZpZXdzUmVndWxhclNoYXBlcyA9IFsn0J/QvtC70L7QttC40YLQtdC70YzQvdCw0Y8g0L7RhtC10L3QutCwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICfQn9C+0LvQvtC20LjRgtC10LvRjNC90YvQtSDQvtGG0LXQvdC60LgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ9Cf0L7Qu9C+0LbQuNGC0LXQu9GM0L3Ri9GFINC+0YbQtdC90L7QuiddLFxuXG5nb29kc1JlZ3VsYXJTaGFwZXMgPSBbJ9GC0L7QstCw0YAnLCAn0YLQvtCy0LDRgNCwJywgJ9GC0L7QstCw0YDQvtCyJ107XG5cbmZ1bmN0aW9uIENCUl9YTUxfRGFpbHlfUnUocmF0ZXMpIHtcbiAgICB2YXIgVVNEID0gcmF0ZXMuVmFsdXRlLlVTRC5WYWx1ZTtcbiAgICB2YXIgRVVSID0gcmF0ZXMuVmFsdXRlLkVVUi5WYWx1ZTtcblxuICAgICQoJy5VU0QnKS5hdHRyKCd2YWx1ZScsIFVTRCk7XG4gICAgJCgnLkVVUicpLmF0dHIoJ3ZhbHVlJywgRVVSKTtcbn1cbmZ1bmN0aW9uIHJlZ3VsYXJTaGFwZShudW1iZXIsIHRpdGxlcywgaWQsIHNlbCkge1xuICAgIHNlbCA9IChzZWwgIT09IHVuZGVmaW5lZCkgPyBzZWwgOiAnIycgKyBpZDtcblxuICAgIHZhciBjYXNlcyA9IFsyLCAwLCAxLCAxLCAxLCAyXTtcbiAgICB2YXIgcmVndWxhclNoYXBlID0gdGl0bGVzWyAobnVtYmVyJTEwMD40ICYmIG51bWJlciUxMDA8MjApID8gMiA6IGNhc2VzWyhudW1iZXIlMTA8NSk/bnVtYmVyJTEwOjVdIF07XG4gICAgJChzZWwpLnRleHQobnVtYmVyICsgJyAnICsgcmVndWxhclNoYXBlKTtcbn1cbmZ1bmN0aW9uIGNoYW5nZUN1cnJlbmN5KGlkLCBjdXJyZW5jeSkge1xuXG4gICAgZnVuY3Rpb24gY2hhbmdlUHJpY2VzKGZ1bmMpIHtcbiAgICAgICAgY2FyZHMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAkKGVsZW1lbnQgKyAnLnByaWNlJykudGV4dChmdW5jKCQoZWxlbWVudCArICcucHJpY2UnKS5hdHRyKCd2YWx1ZScpKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBzZWwgPSAnIycgKyBpZCArICcgLmljb24tY2hlY2tlZCc7XG4gICAgdmFyIGRldmlzaW9uID0gJChjdXJyZW5jeSkuYXR0cigndmFsdWUnKTtcblxuICAgICQoXCIuY3VycmVuY2llcy1pdGVtIC5pY29uLWNoZWNrZWRcIikuY3NzKCdvcGFjaXR5JywgJzAnKTtcbiAgICAkKHNlbCkuY3NzKCdvcGFjaXR5JywgJzEnKTtcblxuICAgIHN3aXRjaCAoY3VycmVuY3kpIHtcbiAgICAgICAgY2FzZSAnLlJVQic6XG4gICAgICAgICAgICAkKFwiLmN1cnJlbmN5XCIpLnRleHQoJ+KCvScpO1xuICAgICAgICAgICAgJChcIi5jdXJyZW5jeS1ub3RlXCIpLnRleHQoJ9Cg0YPQsScpO1xuICAgICAgICAgICAgY2hhbmdlUHJpY2VzKGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJy5VU0QnOlxuICAgICAgICAgICAgJChcIi5jdXJyZW5jeVwiKS50ZXh0KCckJyk7XG4gICAgICAgICAgICAkKFwiLmN1cnJlbmN5LW5vdGVcIikudGV4dCgnVVNEJyk7XG4gICAgICAgICAgICBjaGFuZ2VQcmljZXMoZnVuY3Rpb24odmFsKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHZhbCAvIGRldmlzaW9uKS50b0ZpeGVkKDIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnLkVVUic6XG4gICAgICAgICAgICAkKFwiLmN1cnJlbmN5XCIpLnRleHQoJ+KCrCcpO1xuICAgICAgICAgICAgJChcIi5jdXJyZW5jeS1ub3RlXCIpLnRleHQoJ0VVUicpO1xuICAgICAgICAgICAgY2hhbmdlUHJpY2VzKGZ1bmN0aW9uKHZhbCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh2YWwgLyBkZXZpc2lvbikudG9GaXhlZCgyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBiY29sb3JDaGVja2VkKG5hbWUpIHtcblxuICAgIHZhciBzZWwgPSAnW25hbWU9XCInICsgbmFtZSArICdcIl0gLmljb24tY2hlY2tlZCc7XG5cbiAgICBpZiAoISQoc2VsKS5hdHRyKCdzdHlsZScpKSB7XG4gICAgICAgICQoc2VsKS5hdHRyKHsnc3R5bGUnOidvcGFjaXR5OiAxOycsXG4gICAgICAgICd2YWx1ZSc6J3RydWUnfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChzZWwpLmF0dHIoeydzdHlsZSc6JycsXG4gICAgICAgICd2YWx1ZSc6J2ZhbHNlJ30pO1xuICAgIH1cbn1cblxuLypcbiAqIEN1c3RvbSBzY3JpcHRzXG4gKi9cblxuLy8gLS0qSU5ERVguSFRNTCotLSAvL1xuXG4vLyBzb3VyY2U6IGh0dHBzOi8vaXRjaGllZi5ydS9leGFtcGxlcy9sYWIucGhwP3RvcGljPWphdmFzY3JpcHQmZmlsZT1jaGllZnNsaWRlci13aXRoLWxvb3BpbmdcblxuZnVuY3Rpb24gc2xpZGVyU2VydmljZXMoKSB7XG4gICAgdmFyIG11bHRpSXRlbVNsaWRlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgX21haW5FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcicpLFxuICAgICAgICAgICAgICBfc2xpZGVyV3JhcHBlciA9IF9tYWluRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLXdyYXBwZXInKSxcbiAgICAgICAgICAgICAgX3NsaWRlckl0ZW1zID0gX21haW5FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXItaXRlbScpLFxuICAgICAgICAgICAgICBfc2xpZGVyQ29udHJvbHMgPSBfbWFpbkVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlci1jb250cm9sJyksXG4gICAgICAgICAgICAgIF9zbGlkZXJDb250cm9sTGVmdCA9IF9tYWluRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWNvbnRyb2wtbGVmdCcpLFxuICAgICAgICAgICAgICBfc2xpZGVyQ29udHJvbFJpZ2h0ID0gX21haW5FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXItY29udHJvbC1yaWdodCcpLFxuICAgICAgICAgICAgICBfd3JhcHBlcldpZHRoID0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKF9zbGlkZXJXcmFwcGVyKS53aWR0aCksXG4gICAgICAgICAgICAgIF9pdGVtV2lkdGggPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoX3NsaWRlckl0ZW1zWzBdKS53aWR0aCksXG4gICAgICAgICAgICAgIF9wb3NpdGlvbkxlZnRJdGVtID0gMCxcbiAgICAgICAgICAgICAgX3RyYW5zZm9ybSA9IDAsXG4gICAgICAgICAgICAgIF9zdGVwID0gX2l0ZW1XaWR0aCAvIF93cmFwcGVyV2lkdGggKiAxMDAsXG4gICAgICAgICAgICAgIF9pdGVtcyA9IFtdLFxuICAgICAgICAgICAgICBfc3RhcnRYID0gMDtcblxuICAgICAgICAgICAgX3NsaWRlckl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgX2l0ZW1zLnB1c2goeyBpdGVtOiBpdGVtLCBwb3NpdGlvbjogaW5kZXgsIHRyYW5zZm9ybTogMCB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgZ2V0SXRlbU1pbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhJdGVtID0gMDtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5wb3NpdGlvbiA8IF9pdGVtc1tpbmRleEl0ZW1dLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhJdGVtID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXhJdGVtO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0SXRlbU1heDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhJdGVtID0gMDtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5wb3NpdGlvbiA+IF9pdGVtc1tpbmRleEl0ZW1dLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhJdGVtID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXhJdGVtO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0TWluOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfaXRlbXNbcG9zaXRpb24uZ2V0SXRlbU1pbigpXS5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldE1heDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2l0ZW1zW3Bvc2l0aW9uLmdldEl0ZW1NYXgoKV0ucG9zaXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgX3RyYW5zZm9ybUl0ZW0gPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRJdGVtO1xuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgX3Bvc2l0aW9uTGVmdEl0ZW0rKztcbiAgICAgICAgICAgICAgICBpZiAoKF9wb3NpdGlvbkxlZnRJdGVtICsgX3dyYXBwZXJXaWR0aCAvIF9pdGVtV2lkdGggLSAxKSA+IHBvc2l0aW9uLmdldE1heCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRJdGVtID0gcG9zaXRpb24uZ2V0SXRlbU1pbigpO1xuICAgICAgICAgICAgICAgICAgICBfaXRlbXNbbmV4dEl0ZW1dLnBvc2l0aW9uID0gcG9zaXRpb24uZ2V0TWF4KCkgKyAxO1xuICAgICAgICAgICAgICAgICAgICBfaXRlbXNbbmV4dEl0ZW1dLnRyYW5zZm9ybSArPSBfaXRlbXMubGVuZ3RoICogMTAwO1xuICAgICAgICAgICAgICAgICAgICBfaXRlbXNbbmV4dEl0ZW1dLml0ZW0uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoJyArIF9pdGVtc1tuZXh0SXRlbV0udHJhbnNmb3JtICsgJyUpJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90cmFuc2Zvcm0gLT0gX3N0ZXA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb3NpdGlvbkxlZnRJdGVtLS07XG4gICAgICAgICAgICAgICAgaWYgKF9wb3NpdGlvbkxlZnRJdGVtIDwgcG9zaXRpb24uZ2V0TWluKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dEl0ZW0gPSBwb3NpdGlvbi5nZXRJdGVtTWF4KCk7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVtc1tuZXh0SXRlbV0ucG9zaXRpb24gPSBwb3NpdGlvbi5nZXRNaW4oKSAtIDE7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVtc1tuZXh0SXRlbV0udHJhbnNmb3JtIC09IF9pdGVtcy5sZW5ndGggKiAxMDA7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVtc1tuZXh0SXRlbV0uaXRlbS5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgnICsgX2l0ZW1zW25leHRJdGVtXS50cmFuc2Zvcm0gKyAnJSknO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RyYW5zZm9ybSArPSBfc3RlcDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfc2xpZGVyV3JhcHBlci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgnICsgX3RyYW5zZm9ybSArICclKSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBfY29udHJvbENsaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGlkZXItY29udHJvbCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2xpZGVyLWNvbnRyb2wtcmlnaHQnKSA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgICAgICAgICAgICAgIF90cmFuc2Zvcm1JdGVtKGRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIF9zZXRVcExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfc2xpZGVyQ29udHJvbHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX2NvbnRyb2xDbGljayk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgX21haW5FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBfc3RhcnRYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIF9tYWluRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICAgICAgICAgX2VuZFggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgICAgICAgICBfZGVsdGFYID0gX2VuZFggLSBfc3RhcnRYO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RlbHRhWCA+IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdHJhbnNmb3JtSXRlbSgnbGVmdCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9kZWx0YVggPCAtNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90cmFuc2Zvcm1JdGVtKCdyaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX3NldFVwTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHJpZ2h0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBfdHJhbnNmb3JtSXRlbSgncmlnaHQnKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgbGVmdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgX3RyYW5zZm9ybUl0ZW0oJ2xlZnQnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfVxuICAgIH0oKSk7XG5cbiAgICB2YXIgc2xpZGVyID0gbXVsdGlJdGVtU2xpZGVyKCk7XG59O1xuXG4kKHNsaWRlclNlcnZpY2VzKTtcbnZhciB0aW1lb3V0cyA9IFtdO1xuXG5mdW5jdGlvbiBjbGVhclRpbWVvdXRzKHRpbWVvdXRzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gdGltZW91dHMubGVuZ3RoOyBpKyspXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRzW2ldKTtcblxuICAgIHJldHVybiB0aW1lb3V0cyA9IFtdO1xufVxuXG5mdW5jdGlvbiBmYXZvcml0ZUFkZChpZCkge1xuICAgIHZhciBzZWwgPSAnIycgKyBpZDtcbiAgICB2YXIgYWxlcnQgPSAnLmFsZXJ0JztcbiAgICB2YXIgc2l6ZSA9IDI5ICsgJ3B4JztcblxuICAgIGZ1bmN0aW9uIGFsZXJ0QWN0aW9ucyhrLCB0ZXh0KSB7XG5cbiAgICAgICAgZ29vZHMgKz0gaztcbiAgICAgICAgJChhbGVydCArICcgLmFsZXJ0LXRpdGxlJykudGV4dCh0ZXh0KTtcbiAgICAgICAgcmVndWxhclNoYXBlKGdvb2RzLCBnb29kc1JlZ3VsYXJTaGFwZXMsICdnb29kcy12YWx1ZScpO1xuXG4gICAgICAgIHRpbWVvdXRzID0gY2xlYXJUaW1lb3V0cyh0aW1lb3V0cyk7XG5cbiAgICAgICAgdGltZW91dHMucHVzaChzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ICQoYWxlcnQpLmNzcygnb3BhY2l0eScsICcxJyl9LCAyMDApKTtcbiAgICAgICAgdGltZW91dHMucHVzaChzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ICQoYWxlcnQpLmNzcygnZGlzcGxheScsICdibG9jaycpfSwgMjAwKSk7XG5cbiAgICAgICAgdGltZW91dHMucHVzaChzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ICQoYWxlcnQpLmNzcygnb3BhY2l0eScsICcwJyl9LCA0MDAwKSk7XG4gICAgICAgIHRpbWVvdXRzLnB1c2goc2V0VGltZW91dChmdW5jdGlvbigpeyAkKGFsZXJ0KS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpfSwgNDE1MSkpO1xuXG4gICAgICAgIHJldHVybiB0aW1lb3V0cztcbiAgICB9XG5cbiAgICBpZiAoISQoc2VsKS5hdHRyKCdzdHlsZScpKSB7XG4gICAgICAgICQoc2VsKS5hdHRyKCdzdHlsZScsICdjb2xvcjojZjAyNjI2OycpO1xuICAgICAgICB0aW1lb3V0cyA9IGFsZXJ0QWN0aW9ucygxLCAn0KHQvtGF0YDQsNC90LXQvdC+INCyINC40LfQsdGA0LDQvdC90L7QtScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICQoc2VsKS5hdHRyKCdzdHlsZScsICcnKTtcbiAgICAgICAgdGltZW91dHMgPSBhbGVydEFjdGlvbnMoLTEsICfQo9C00LDQu9C10L3QviDQuNC3INC40LfQsdGA0LDQvdC90L7Qs9C+Jyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhbGVydENsb3NlKCkge1xuICAgIHZhciBhbGVydCA9ICcuYWxlcnQnO1xuXG4gICAgJChhbGVydCkuY3NzKCdvcGFjaXR5JywgJzAnKTtcbiAgICB0aW1lb3V0cyA9IGNsZWFyVGltZW91dHModGltZW91dHMpO1xuICAgIHRpbWVvdXRzLnB1c2goc2V0VGltZW91dChmdW5jdGlvbigpeyAkKGFsZXJ0KS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpfSwgMTUxKSk7XG59XG5cbmZ1bmN0aW9uIGluZm9Jbml0KHNjb3JlLCBhbGxSZXZpZXdzLCBpZCwgZGF0ZSwgaGl0KSB7XG4gICAgdmFyIHNlbCA9ICcjJyArIGlkICsgJyAnO1xuICAgIGNhcmRzLnB1c2goc2VsKTtcbiAgICB2YXIgcmF0aW5nID0gKGFsbFJldmlld3MgPCA0KSA/IFsn0J3QvtCy0LjQvdC60LAhJywgJ3RleHQtaW5mbyddIDpcbiAgICAgICAgKHNjb3JlIDwgMy42KSA/IFsn0KXQvtGA0L7RiNC+JywgJ3RleHQtd2FybmluZyddIDpcbiAgICAgICAgKHNjb3JlIDwgNC42KSA/IFsn0J/RgNC10LLQvtGB0YXQvtC00L3QvicsICd0ZXh0LXN1Y2Nlc3MnXSA6XG4gICAgICAgIFsn0JLQvtGB0YXQuNGC0LjRgtC10LvRjNC90L4nLCAndGV4dC1zdWNjZXNzJ107XG4gICAgc2NvcmUgPSAoYWxsUmV2aWV3cyA8IDQpID8gJ05FVycgOiBzY29yZTtcblxuICAgIHZhciBkZWZDbGFzc2VzID0gJ2NhcmQtdGV4dCBkLWJsb2NrICc7XG4gICAgc3dpdGNoIChkYXRlKSB7XG4gICAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgICAgICQoc2VsICsgJy5jYXJkLXRleHQnKS50ZXh0KCfQo9C20LUg0YHQvtCx0YDQsNC9Jyk7XG4gICAgICAgICAgICAkKHNlbCArICcuY2FyZC10ZXh0JykuYXR0cignY2xhc3MnLCBkZWZDbGFzc2VzICsgJ3RleHQtc3VjY2VzcycpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgZmFsc2U6XG4gICAgICAgICAgICAkKHNlbCArICcuY2FyZC10ZXh0JykudGV4dCgn0JXRidC1INC90LUg0YHQvtCx0YDQsNC9Jyk7XG4gICAgICAgICAgICAkKHNlbCArICcuY2FyZC10ZXh0JykuYXR0cignY2xhc3MnLCBkZWZDbGFzc2VzICsgJ21haW4tY29sb3InKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgJChzZWwgKyAnLmNhcmQtdGV4dCcpLnRleHQoJ9CR0YPQtNC10YIg0LPQvtGC0L7QsiDQsiAnICsgZGF0ZSk7XG4gICAgICAgICAgICAkKHNlbCArICcuY2FyZC10ZXh0JykuYXR0cignY2xhc3MnLCBkZWZDbGFzc2VzICsgJ3RleHQtaW5mbycpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgJChzZWwgKyAnLnNjb3JlLWJsb2NrJykudGV4dChzY29yZSk7XG4gICAgJChzZWwgKyAnLnJldmlldy1ibG9jayBiJykudGV4dChyYXRpbmdbMF0pO1xuICAgICQoc2VsICsgJy5yZXZpZXctYmxvY2sgYicpLmF0dHIoJ2NsYXNzJywgcmF0aW5nWzFdKTtcblxuICAgIGlmICghaGl0KSB7XG4gICAgICAgICQoc2VsICsgJy5oaXQtbWFyaycpLmF0dHIoJ3N0eWxlJywgJ2Rpc3BsYXk6bm9uZTsnKTtcbiAgICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0gLy8iXX0=
